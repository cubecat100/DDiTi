<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.mapper.IMemberMapper">

	<resultMap type="memberVO" id="memberMap">
		<id property="memNo" column="mem_no"/>
		<result property="memNo" column="mem_no"/>
		<result property="dprtNo" column="dprt_no"/>
		<result property="memId" column="mem_id"/>
		<result property="memPw" column="mem_pw"/>
		<result property="memName" column="mem_name"/>
		<result property="memBir" column="mem_bir"/>
		<result property="memPh" column="mem_ph"/>
		<result property="memEmail" column="mem_email"/>
		<result property="memPostcode" column="mem_postcode"/>
		<result property="memAddr1" column="mem_addr1"/>
		<result property="memAddr2" column="mem_addr2"/>
		<result property="otpKey" column="otp_key"/>
		<result property="memProfile" column="mem_profile"/>
		<result property="memRole" column="mem_role"/>
		<collection property="studentList" resultMap="studentInfoMap"/>
	</resultMap>
	
	<resultMap type="studentInfoVO" id="studentInfoMap">
		<id property="memNo" column="mem_no"/>
		<result property="memRegDate" column="mem_reg_date"/>
		<result property="memGrdDate" column="mem_grd_date"/>
		<result property="memStatusCode" column="mem_status_code"/>
		<result property="memStdGrade" column="mem_std_grade"/>
	</resultMap>

	

	<select id="newStuList" resultMap="memberMap">
		select
		    m.mem_no, dprt_no, mem_id, mem_pw, mem_name,
		    si.mem_reg_date, si.mem_std_grade, si.mem_status_code
		from member m left outer join student_info si on(m.mem_no = si.mem_no)
		where m.mem_no = si.mem_no
	</select>


	
</mapper>